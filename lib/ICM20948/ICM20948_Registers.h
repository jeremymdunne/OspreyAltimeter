#ifndef _ICM20948_REGISTERS_H_
#define _ICM20948_REGISTERS_H_


/*
The ICM20498 hase 4 user banks of registers which it makes you select to write
I use the below constants to differentiate between the banks and handle switching banks
in the standard write8/read8 methods as to simplify the program

*/

#define USR_BANK_0_OFFSET 0
#define USR_BANK_1_OFFSET 1<<8
#define USR_BANK_2_OFFSET 2<<8
#define USR_BANK_3_OFFSET 3<<8
//User Bank 0
#define ICM20948_WHO_AM_I_REG               (0x00 | USR_BANK_0_OFFSET)
#define ICM20948_USER_CTRL_REG              (0x03 | USR_BANK_0_OFFSET)
#define ICM20948_LP_CONFIG_REG              (0x05 | USR_BANK_0_OFFSET)
#define ICM20948_PWR_MGMT_1_REG             (0x06 | USR_BANK_0_OFFSET)
#define ICM20948_PWR_MGMT_2_REG             (0x07 | USR_BANK_0_OFFSET)
#define ICM20948_INT_PIN_CFG_REG            (0x0F | USR_BANK_0_OFFSET)
#define ICM20948_INT_ENABLE_REG             (0x10 | USR_BANK_0_OFFSET)
#define ICM20948_INT_ENABLE_1_REG           (0x11 | USR_BANK_0_OFFSET)
#define ICM20948_INT_ENABLE_2_REG           (0x12 | USR_BANK_0_OFFSET)
#define ICM20948_INT_ENABLE_3_REG           (0x13 | USR_BANK_0_OFFSET)
#define ICM20948_I2C_MST_STATUS_REG         (0x17 | USR_BANK_0_OFFSET)
#define ICM20948_INT_STATUS_REG             (0x19 | USR_BANK_0_OFFSET)
#define ICM20948_INT_STATUS_1_REG           (0x1A | USR_BANK_0_OFFSET)
#define ICM20948_INT_STATUS_2_REG           (0x1B | USR_BANK_0_OFFSET)
#define ICM20948_INT_STATUS_3_REG           (0x1C | USR_BANK_0_OFFSET)
#define ICM20948_DELAY_TIMEH_REG            (0x28 | USR_BANK_0_OFFSET)
#define ICM20948_DELAY_TIMEL_REG            (0x29 | USR_BANK_0_OFFSET)
#define ICM20948_ACCEL_XOUT_H_REG           (0x2D | USR_BANK_0_OFFSET)
#define ICM20948_ACCEL_XOUT_L_REG           (0x2E | USR_BANK_0_OFFSET)
#define ICM20948_ACCEL_YOUY_H_REG           (0x2F | USR_BANK_0_OFFSET)
#define ICM20948_ACCEL_YOUY_L_REG           (0x30 | USR_BANK_0_OFFSET)
#define ICM20948_ACCEL_ZOUY_H_REG           (0x31 | USR_BANK_0_OFFSET)
#define ICM20948_ACCEL_ZOUY_L_REG           (0x32 | USR_BANK_0_OFFSET)
#define ICM20948_GYRO_XOUT_H_REG            (0x33 | USR_BANK_0_OFFSET)
#define ICM20948_GYRO_XOUT_L_REG            (0x34 | USR_BANK_0_OFFSET)
#define ICM20948_GYRO_YOUY_H_REG            (0x35 | USR_BANK_0_OFFSET)
#define ICM20948_GYRO_YOUY_L_REG            (0x36 | USR_BANK_0_OFFSET)
#define ICM20948_GYRO_ZOUY_H_REG            (0x37 | USR_BANK_0_OFFSET)
#define ICM20948_GYRO_ZOUY_L_REG            (0x38 | USR_BANK_0_OFFSET)
#define ICM20948_TEMP_OUT_H_REG             (0x39 | USR_BANK_0_OFFSET)
#define ICM20948_TEMP_OUT_L_REG             (0x3A | USR_BANK_0_OFFSET)
#define ICM20948_EXT_SLV_SENS_DATA_00        (0x3B | USR_BANK_0_OFFSET)
#define ICM20948_FIFO_EN_1_REG              (0x66 | USR_BANK_0_OFFSET)
#define ICM20948_FIFO_EN_2_REG              (0x67 | USR_BANK_0_OFFSET)
#define ICM20948_FIFO_RST_REG               (0x68 | USR_BANK_0_OFFSET)
#define ICM20948_FIFO_MODE_REG              (0x69 | USR_BANK_0_OFFSET)
#define ICM20948_FIFO_COUNTH_REG            (0x70 | USR_BANK_0_OFFSET)
#define ICM20948_FIFO_COUNTL_REG            (0x71 | USR_BANK_0_OFFSET)
#define ICM20948_FIFO_R_W_REG               (0x72 | USR_BANK_0_OFFSET)
#define ICM20948_DATA_RDY_REG               (0x74 | USR_BANK_0_OFFSET)

//User bank 1
#define ICM20948_SELF_TEST_X_GYRO_REG       (0x02 | USR_BANK_1_OFFSET)
#define ICM20948_SELF_TEST_Y_GYRO_REG       (0x03 | USR_BANK_1_OFFSET)
#define ICM20948_SELF_TEST_Z_GYRO_REG       (0x04 | USR_BANK_1_OFFSET)
#define ICM20948_SELF_TEST_X_ACCEL_REG      (0x0E | USR_BANK_1_OFFSET)
#define ICM20948_SELF_TEST_Y_ACCEL_REG      (0x0F | USR_BANK_1_OFFSET)
#define ICM20948_SELF_TEST_Z_ACCEL_REG      (0x10 | USR_BANK_1_OFFSET)
#define ICM20948_XA_OFFSET_H_REG            (0x14 | USR_BANK_1_OFFSET)
#define ICM20948_XA_OFFSET_L_REG            (0x15 | USR_BANK_1_OFFSET)
#define ICM20948_YA_OFFSET_H_REG            (0x17 | USR_BANK_1_OFFSET)
#define ICM20948_YA_OFFSET_L_REG            (0x18 | USR_BANK_1_OFFSET)
#define ICM20948_ZA_OFFSET_H_REG            (0x1A | USR_BANK_1_OFFSET)
#define ICM20948_ZA_OFFSET_L_REG            (0x1B | USR_BANK_1_OFFSET)


//User bank 2
#define ICM20948_GYRO_SMPLRT_DIV_REG        (0x00 | USR_BANK_2_OFFSET)
#define ICM20948_GYRO_CONFIG_1_REG          (0x01 | USR_BANK_2_OFFSET)
#define ICM20948_GYRO_CONFIG_2_REG          (0x02 | USR_BANK_2_OFFSET)
#define ICM20948_XG_OFFS_USRH_REG           (0x03 | USR_BANK_2_OFFSET)
#define ICM20948_XG_OFFS_USRL_REG           (0x04 | USR_BANK_2_OFFSET)
#define ICM20948_YG_OFFS_USRH_REG           (0x05 | USR_BANK_2_OFFSET)
#define ICM20948_YG_OFFS_USRL_REG           (0x06 | USR_BANK_2_OFFSET)
#define ICM20948_ZG_OFFS_USRH_REG           (0x07 | USR_BANK_2_OFFSET)
#define ICM20948_ZG_OFFS_USRL_REG           (0x08 | USR_BANK_2_OFFSET)
#define ICM20948_ODR_ALIGN_EN_REG           (0x09 | USR_BANK_2_OFFSET)
#define ICM20948_ACCEL_SMPLRT_DIV_1_REG     (0x10 | USR_BANK_2_OFFSET)
#define ICM20948_ACCEL_SMPLRT_DIV_2_REG     (0x11 | USR_BANK_2_OFFSET)
#define ICM20948_ACCEL_INTEL_CTRL_REG       (0x12 | USR_BANK_2_OFFSET)
#define ICM20948_ACCEL_WOM_THR_REG          (0x13 | USR_BANK_2_OFFSET)
#define ICM20948_ACCEL_CONFIG_REG           (0x14 | USR_BANK_2_OFFSET)
#define ICM20948_ACCEL_CONFIG_2_REG         (0x15 | USR_BANK_2_OFFSET)
#define ICM20948_FSYNC_CONFIG_2_REG         (0x52 | USR_BANK_2_OFFSET)
#define ICM20948_TEMP_CONFIG_REG            (0x53 | USR_BANK_2_OFFSET)
#define ICM20948_MOD_CTRL_USR_REG           (0x54 | USR_BANK_2_OFFSET)

//bank 3
#define ICM20948_I2C_MST_ODR_CONFIG_REG     (0x00 | USR_BANK_3_OFFSET)
#define ICM20948_I2C_MST_CTL_REG            (0x01 | USR_BANK_3_OFFSET)
#define ICM20948_I2C_MST_DELAY_CTRL_REG     (0x02 | USR_BANK_3_OFFSET)
#define ICM20948_I2C_SLV0_ADDR_REG          (0x03 | USR_BANK_3_OFFSET)
#define ICM20948_I2C_SLV0_REG_REG           (0x04 | USR_BANK_3_OFFSET)
#define ICM20948_I2C_SLV0_CTRL_REG          (0x05 | USR_BANK_3_OFFSET)
#define ICM20948_I2C_SLV0_D0_REG            (0x06 | USR_BANK_3_OFFSET)

//the same for all user banks
#define ICM20948_USER_BANK_SEL_REG          0x7F

//USER_CTRL
#define ICM20948_DMP_BIT 7

//PWR_MGMT_1
#define ICM20948_DEVICE_RESET_BIT 7
#define ICM20948_SLEEP_BIT 6
#define ICM20948_CLKSEL_BIT 0

//PWR_MGMT_2
#define ICM20948_BYPASS_EN_BIT 1

//GYRO_CONFIG
#define ICM20948_GYRO_DLPFCFG_BIT 3
#define ICM20948_GYRO_FS_SEL_BIT 1
#define ICM20948_GYRO_FCHOICE_BIT 0

//ACCEL_CONFIG
#define ICM20948_ACCEL_DLPFCFG_BIT 3
#define ICM20948_ACCEL_FS_SEL_BIT 1
#define ICM20948_ACCEL_FCHOICE_BIT 0

#define ICM20948_MAGNETOMETER_DATA_RDY_BIT 0
#define ICM20948_MAGNETOMETER_DATA_OVERFLOW_BIT 1

#define ICM20948_MAGNETOMETER_EXPECTED_WHO_AM_I_RESPONSE 9

#define ICM20948_WHO_AM_I_EXPECTED_RESPONSE 0xEA

//Magnetometer is an AK09916

#define ICM20948_MAGNETOMETER_ADDR           0x0C
//Magnetometer registers
#define ICM20948_MAGNETOMETER_DEVICE_ID_REG 0x01
#define ICM20948_MAGNETOMETER_STATUS_1_REG  0x10
#define ICM20948_MAGNETOMETER_XL_REG        0x11
#define ICM20948_MAGNETOMETER_XH_REG        0x12
#define ICM20948_MAGNETOMETER_YL_REG        0x13
#define ICM20948_MAGNETOMETER_YH_REG        0x14
#define ICM20948_MAGNETOMETER_ZL_REG        0x15
#define ICM20948_MAGNETOMETER_ZH_REG        0x16
#define ICM20948_MAGNETOMETER_STATUS_2_REG  0x18
#define ICM20948_MAGNETOMETER_CNTL_2_REG    0x31
#define ICM20948_MAGNETOMETER_CNTL_3_REG    0x32


//
#endif
